// room script file
import function interact(int x,  int y,  String texto,  Character* personaje);
import function paso(int id1,  int id2);
import function talk(String pito,  bool change);


function hHotspot1_WalkOn()
{
  if(puzzle1==false){
  cJuli.ChangeRoom(2, 1024, 896, eDirectionDown);  
  } else{
  hHotspot1.Enabled = false;
  }
}

function hHotspot2_WalkOn()
{
  if(puzzle2==false){
  cJuli.ChangeRoom(3, 1116, 1702, eDirectionUp);
  }else{
    hHotspot2.Enabled=false;
  }
  //Hacer que cuando termine el puzzle no pueda volver a entrar
}

function hHotspot3_WalkOn()
{
  if (!llaves){
    cJuli.ChangeRoom(4, 230, 1070);
  } else{
 hHotspot3.Enabled=false;

  }
}

function hHotspot4_WalkOn()
{
  cJuli.ChangeRoom(6, 326,  486);
}

function hHotspot5_WalkOn()
{
  if(cCajaFAb.Transparency==100){
    if(interact(1020, 1132, "Vaya… Nunca había visto una caja fuerte tan tocha de cerca. Tiene pinta de que no la abres ni con la fuerza del pueblo vasco en su totalidad.",cCajaF)){
  }     
  } else{
        if(interact(1020, 1132, "¿Tanta caja fuerte para guardar un papelito y una piedra?",cCajaFAb)){
          cJuli.AddInventory(iGemaR) ;
          cJuli.AddInventory(iNota);
        }
  } 
  }

function room_RepExec()
{
  cCajaFAb.Transparency=100;
  if(cCajaFAb.Transparency==0){
    hHotspot4.Enabled=true;
  }
}//Qué es esto?
 //Es la caja fuerte abierta
 

function room_FirstLoad()
{
  gui[1].Visible = true;
  paso(2, 1);
  talk("¡NO ME LO CREO, TÍO! ¿Esto es en serio? Hoy echaban el Madrid – Betis y han tenido que venir UNA PANDA DE MATADOS a secuestrarme. ¿Se puede saber dónde estoy?", false);
  talk("Haz el favor de callarte la puta boca y escuchar, niñato. Estás aquí porque eres una lacra y tus padres no quieren saber nada de ti, así que han contratado nuestros servicios para mantenerte entretenido un buen rato y poder hacer cosas de mayores con total tranquilidad. Escucha lo que te tengo que de-", true);
  talk("No quiero escuchar, quiero ver el Madrid – Betis. Es un evento que sólo sucede dos veces al año y no quiero perdérmelo por nada del mundo, ¿entiendes, pedazo de -", false);
  talk("¡QUE TE CALLES DE UNA VEZ! No me extraña que tus padres nos contrataran. Escucha ahora lo que tengo que decir: frente a ti hay 4 puertas. Cada una lleva a una habitación con sus propias normas donde deberás resolver el acertijo. Básicamente te encuentras en un escape room, aunque, siendo sinceros, con la diferencia de que no estás aquí por gusto.", true);
  talk("Comprendo", false);
  talk("Cuentas con tres intentos para escapar. De no conseguirlo (o molestarnos más de lo necesario), procederemos a ejecutarte. Repito: si fallas tres veces morirás. Tus padres nos han dado permiso, así que no te creas que por ser un servicio contratable no tenemos potestad para acabar con tu vida. ", true);
  talk("Aunque mis padres os den permiso no podéis hacerme nada. Mi cuerpo, mi decisión. A mí no me la coláis, que estudié Principios Jurídicos Básicos. ", false);
  talk(" No te cargues el argumento del juego. ", true);
  talk(" ¿Qué juego?", false);
  talk(" Cállate ", true);
  gui[2].Visible = false;
  gui[1].Visible = false;
  hHotspot4.Enabled = false;
  //ACTIVAR EL HOTSPOT 4 CUANDO SE HAYA ABIERTO LA CAJA FUERTE
}

function room_Load()
{

  aGeneral.Play();
  cCajaFAb.Transparency=100;

}

function room_Leave()
{
  aGeneral.Stop();
}
